@using SOAP.Web.Utilities.Constants

<ul class="navbar-nav">
    @if (Context.Session.GetString(ApplicationConstants.SessionKeys.UserId) != null)
    {
        var userRole = Context.Session.GetString(ApplicationConstants.SessionKeys.UserRole);
        var phoneNumber = Context.Session.GetString(ApplicationConstants.SessionKeys.PhoneNumber);
        
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                @phoneNumber (@userRole)
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                @if (userRole == ApplicationConstants.Roles.Parent)
                {
                    <li><a class="dropdown-item" asp-area="Parent" asp-controller="Application" asp-action="Status">My Application</a></li>
                    <li><a class="dropdown-item" asp-area="Parent" asp-controller="Document" asp-action="Upload">Documents</a></li>
                }
                else if (userRole == ApplicationConstants.Roles.Admin)
                {
                    <li><a class="dropdown-item" asp-area="Admin" asp-controller="Dashboard" asp-action="Index">Dashboard</a></li>
                    <li><a class="dropdown-item" asp-area="Admin" asp-controller="Application" asp-action="Index">Applications</a></li>
                }
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" asp-controller="Account" asp-action="Logout">Logout</a></li>
            </ul>
        </li>
    }
    else
    {
        <li class="nav-item">
            <a class="nav-link text-dark" asp-controller="Account" asp-action="Login">Login</a>
        </li>
    }
</ul>